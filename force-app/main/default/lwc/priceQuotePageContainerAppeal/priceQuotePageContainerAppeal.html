<!--
 - Author: mark  moser 
 - Date: 11/17/2021.
 -->

<!-- temp page for appeal experiment -->
<template>
    <div class="slds-var-m-around_small">
        <div if:true={loading}>
            <lightning-spinner alternative-text="Loading..." variant="brand"></lightning-spinner>
        </div>
    </div>
    <div style="background-color: #FED8B1; padding: 5px; margin: 5px">
        This website is currently under construction. We may update the content of this website from time to time. We
        grant you access to this website as our valued partner for the sole purpose of obtaining your user experience
        feedback. This website contains confidential features of DLL business tools. Please do not share any content of
        this website with any third party without DLL’s prior express consent. The information presented on this Website
        is made available solely for demonstration and testing purposes. Please do not submit credit application via
        this website. DLL is not committed to financing any transaction you submit via this website. This website is
        provided on an “As Is” and “As Available” basis, DLL hereby disclaims any warranties. All feedback, comments,
        requests for technical support, and other communications relating to this website should be directed to Sophie
        McLachlan at smclachlan@leasedirect.com
    </div>

    <div if:true={displayModal}>
        <!-- Modal for when the cancel button is pressed and the user must confirm that the forum data is to be cleared-->
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={displayModalToFalse}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="error" size="small">
                        </lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">You are about to cancel
                        this quote</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <p>Do you want to save your changes? The latest changes have not been saved. Are you sure you would
                        like to cancel this quote?
                    </p>
                </div>
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={displayModalToFalse}
                        title="Return to Page">No,
                        stay on page</button>
                    <button class="slds-button slds-button_brand" onclick={handleCancel} title="Confirm Cancel">Yes,
                        cancel this quote</button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </div>


    <lightning-layout multiple-rows=true horizontal-align="spread">

        <!-- header section -->
        <lightning-layout-item size=12 class="slds-box_border quote-header">
            <div class="Header slds-p-around_medium">
                <lightning-layout>
                    <lightning-layout-item size=8>
                        <h1 class="slds-text-heading_large">
                            {sectionTitle}
                        </h1>
                    </lightning-layout-item>

                    <lightning-layout-item size=4>
                        <lightning-button class="slds-float_right" variant="brand-outline" label="Submit Appeal"
                            onclick={handleOnSaveOnlyHeader}></lightning-button>
                    </lightning-layout-item>
                </lightning-layout>
                <lightning-layout class="slds-p-around_medium" horizontal-align="space">
                    <lightning-layout-item padding="around-small" flexibility="auto">
                        <div class="display-field">
                            <label>Application Number</label>
                            <span><b>{appNumber}</b></span>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" flexibility="auto">
                        <div class="display-field">
                            <label>Quote Number</label>
                            <template if:true={showQuoteNumber}>
                                <span><b>{quoteNumber}</b></span>
                            </template>
                        </div>
                    </lightning-layout-item>
                    <template if:false={newOption}>
                        <lightning-layout-item padding="around-small" flexibility="auto">

                            <div class="display-field">
                                <label>Sales Rep</label>
                                <span><b>{salesRep}</b></span>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <div class="display-field">
                                <label>Location</label>
                                <span><b>{displayLocation}</b></span>
                            </div>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <div class="display-field">
                                <label>Program</label>
                                <span><b>{displayProgram}</b></span>
                            </div>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <lightning-combobox name="assetTypeQuote" label="Asset Condition" required=true
                                value={assetTypeQuote} options={assetTypeListQuote} onchange={handleChange}>
                            </lightning-combobox>
                        </lightning-layout-item>
                    </template>
                    <template if:true={newOption}>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <c-reusable-custom-dropdown-with-search-lwc bold-label="true"
                                error-message="Enter a valid sales rep" auto-complete-off="off" options={salesRepList}
                                field-required-off="true" value={salesRep} field-label="Sales Rep"
                                placeholder="Enter Sales Rep" onchange={handleChangeSalesRep}>
                            </c-reusable-custom-dropdown-with-search-lwc>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <lightning-combobox name="location" label="Location" required=true value={location}
                                class="locationComboboxWidth" options={siteList} onchange={handleChangeLocation}>
                            </lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <lightning-combobox name="program" label="Program" required=true value={program}
                                disabled={hasLocationSelection} options={programPicklist}
                                onchange={handleDependentRatesPicklistChange}>
                            </lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" flexibility="auto">
                            <lightning-combobox name="assetTypeQuote" label="Asset Condition" required=true
                                value={assetTypeQuote} options={assetTypeListQuote} onchange={handleChange}>
                            </lightning-combobox>
                        </lightning-layout-item>
                    </template>



                </lightning-layout>
            </div>
        </lightning-layout-item>
    </lightning-layout>

    <c-pricing-component onchildcancel={handleChildCancel} onchildsave={handleChildSave} oppid={oppid} isappeal=true
        newoption={option} clone=false>
    </c-pricing-component>



</template>